class H{startEl;endEl;targetEl;activeClass;onStart;onEnd;onResume;constructor(e){this.startEl=e.startEl,this.endEl=e.endEl,this.targetEl=e.targetEl,this.activeClass=e.activeClass,this.onStart=e.onStart,this.onEnd=e.onEnd,this.onResume=e.onResume,this.checkDisplayConditions=this.checkDisplayConditions.bind(this),this.init()}init(){window.addEventListener("scroll",()=>{window.requestAnimationFrame(this.checkDisplayConditions)}),window.addEventListener("resize",()=>{window.requestAnimationFrame(this.checkDisplayConditions)}),this.checkDisplayConditions()}checkDisplayConditions(){const e=typeof this.startEl=="string"?document.querySelector(this.startEl):this.startEl,o=typeof this.endEl=="string"?document.querySelector(this.endEl):this.endEl,t=typeof this.targetEl=="string"?document.querySelector(this.targetEl):this.targetEl;if(t){if(!e&&!o)t.classList.add(this.activeClass),this.onStart&&this.onStart(t);else if(e&&!o)e.getBoundingClientRect().top>=window.innerHeight?(t.classList.remove(this.activeClass),this.onEnd&&this.onEnd(t)):(t.classList.add(this.activeClass),this.onStart&&this.onStart(t));else if(!e&&o)o.getBoundingClientRect().top<window.innerHeight?(t.classList.add(this.activeClass),this.onStart&&this.onStart(t)):(t.classList.remove(this.activeClass),this.onEnd&&this.onEnd(t));else if(e&&o){const i=e.getBoundingClientRect().top,s=o.getBoundingClientRect().top;i<window.innerHeight&&s>window.innerHeight?(t.classList.add(this.activeClass),this.onStart&&this.onStart(t)):(t.classList.remove(this.activeClass),s<window.innerHeight?this.onEnd&&this.onEnd(t):this.onResume&&this.onResume(t))}}}}document.addEventListener("DOMContentLoaded",()=>{new H({startEl:"#btnStart",endEl:"#btnEnd",targetEl:"#fixed-wrapper",activeClass:"onActive",onStart(n){},onEnd(n){},onResume(n){}})});const A={duration:.4},K=(n,e,o=A)=>{n.animate([{height:getComputedStyle(n).height,opacity:1},{height:"0",opacity:0}],{duration:o.duration*1e3,easing:"cubic-bezier(0.25, 0.46, 0.45, 0.94)"}).addEventListener("finish",()=>{e.removeAttribute("open")})},N=(n,e=A)=>{const o="0",t=`${n.scrollHeight}px`;n.animate([{height:o,opacity:0},{height:t,opacity:1}],{duration:e.duration*1e3,easing:"cubic-bezier(0.25, 0.46, 0.45, 0.94)"}).addEventListener("finish",()=>{n.style.height="auto"})},P=n=>{const e=document.querySelectorAll("[data-accordion-datails]"),o="is-opened";(()=>{e.forEach(i=>{i.dataset.accordionOpen==="true"&&(i.setAttribute("open","true"),i.classList.add("is-opened"))})})(),e.forEach(i=>{const s=i.querySelector("[data-accordion-title]"),a=i.querySelector("[data-accordion-content]");s.addEventListener("click",r=>{r.preventDefault(),i.classList.contains(o)?(i.classList.remove(o),K(a,i,n)):(i.classList.add(o),i.setAttribute("open","true"),N(a,n))})})};window.addEventListener("DOMContentLoaded",()=>{P({duration:.4})});function z(n,e){for(var o=0;o<e.length;o++){var t=e[o];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(n,t.key,t)}}function h(n){return function(e){if(Array.isArray(e))return f(e)}(n)||function(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}(n)||function(e,o){if(e){if(typeof e=="string")return f(e,o);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return f(e,o)}}(n)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function f(n,e){(e==null||e>n.length)&&(e=n.length);for(var o=0,t=new Array(e);o<e;o++)t[o]=n[o];return t}var L,g,c,m,S,M=(L=["a[href]","area[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","button:not([disabled]):not([aria-hidden])","iframe","object","embed","[contenteditable]",'[tabindex]:not([tabindex^="-"])'],g=function(){function n(t){var i=t.targetModal,s=t.triggers,a=s===void 0?[]:s,r=t.onShow,l=r===void 0?function(){}:r,d=t.onClose,u=d===void 0?function(){}:d,v=t.openTrigger,T=v===void 0?"data-micromodal-trigger":v,y=t.closeTrigger,O=y===void 0?"data-micromodal-close":y,E=t.openClass,F=E===void 0?"is-open":E,p=t.disableScroll,B=p!==void 0&&p,b=t.disableFocus,D=b!==void 0&&b,w=t.awaitCloseAnimation,q=w!==void 0&&w,C=t.awaitOpenAnimation,R=C!==void 0&&C,k=t.debugMode,I=k!==void 0&&k;(function(j,x){if(!(j instanceof x))throw new TypeError("Cannot call a class as a function")})(this,n),this.modal=document.getElementById(i),this.config={debugMode:I,disableScroll:B,openTrigger:T,closeTrigger:O,openClass:F,onShow:l,onClose:u,awaitCloseAnimation:q,awaitOpenAnimation:R,disableFocus:D},a.length>0&&this.registerTriggers.apply(this,h(a)),this.onClick=this.onClick.bind(this),this.onKeydown=this.onKeydown.bind(this)}var e,o;return e=n,(o=[{key:"registerTriggers",value:function(){for(var t=this,i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];s.filter(Boolean).forEach(function(r){r.addEventListener("click",function(l){return t.showModal(l)})})}},{key:"showModal",value:function(){var t=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;if(this.activeElement=document.activeElement,this.modal.setAttribute("aria-hidden","false"),this.modal.classList.add(this.config.openClass),this.scrollBehaviour("disable"),this.addEventListeners(),this.config.awaitOpenAnimation){var s=function a(){t.modal.removeEventListener("animationend",a,!1),t.setFocusToFirstNode()};this.modal.addEventListener("animationend",s,!1)}else this.setFocusToFirstNode();this.config.onShow(this.modal,this.activeElement,i)}},{key:"closeModal",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,i=this.modal;if(this.modal.setAttribute("aria-hidden","true"),this.removeEventListeners(),this.scrollBehaviour("enable"),this.activeElement&&this.activeElement.focus&&this.activeElement.focus(),this.config.onClose(this.modal,this.activeElement,t),this.config.awaitCloseAnimation){var s=this.config.openClass;this.modal.addEventListener("animationend",function a(){i.classList.remove(s),i.removeEventListener("animationend",a,!1)},!1)}else i.classList.remove(this.config.openClass)}},{key:"closeModalById",value:function(t){this.modal=document.getElementById(t),this.modal&&this.closeModal()}},{key:"scrollBehaviour",value:function(t){if(this.config.disableScroll){var i=document.querySelector("body");switch(t){case"enable":Object.assign(i.style,{overflow:""});break;case"disable":Object.assign(i.style,{overflow:"hidden"})}}}},{key:"addEventListeners",value:function(){this.modal.addEventListener("touchstart",this.onClick),this.modal.addEventListener("click",this.onClick),document.addEventListener("keydown",this.onKeydown)}},{key:"removeEventListeners",value:function(){this.modal.removeEventListener("touchstart",this.onClick),this.modal.removeEventListener("click",this.onClick),document.removeEventListener("keydown",this.onKeydown)}},{key:"onClick",value:function(t){(t.target.hasAttribute(this.config.closeTrigger)||t.target.parentNode.hasAttribute(this.config.closeTrigger))&&(t.preventDefault(),t.stopPropagation(),this.closeModal(t))}},{key:"onKeydown",value:function(t){t.keyCode===27&&this.closeModal(t),t.keyCode===9&&this.retainFocus(t)}},{key:"getFocusableNodes",value:function(){var t=this.modal.querySelectorAll(L);return Array.apply(void 0,h(t))}},{key:"setFocusToFirstNode",value:function(){var t=this;if(!this.config.disableFocus){var i=this.getFocusableNodes();if(i.length!==0){var s=i.filter(function(a){return!a.hasAttribute(t.config.closeTrigger)});s.length>0&&s[0].focus(),s.length===0&&i[0].focus()}}}},{key:"retainFocus",value:function(t){var i=this.getFocusableNodes();if(i.length!==0)if(i=i.filter(function(a){return a.offsetParent!==null}),this.modal.contains(document.activeElement)){var s=i.indexOf(document.activeElement);t.shiftKey&&s===0&&(i[i.length-1].focus(),t.preventDefault()),!t.shiftKey&&i.length>0&&s===i.length-1&&(i[0].focus(),t.preventDefault())}else i[0].focus()}}])&&z(e.prototype,o),n}(),c=null,m=function(n){if(!document.getElementById(n))return console.warn("MicroModal: ❗Seems like you have missed %c'".concat(n,"'"),"background-color: #f8f9fa;color: #50596c;font-weight: bold;","ID somewhere in your code. Refer example below to resolve it."),console.warn("%cExample:","background-color: #f8f9fa;color: #50596c;font-weight: bold;",'<div class="modal" id="'.concat(n,'"></div>')),!1},S=function(n,e){if(function(t){t.length<=0&&(console.warn("MicroModal: ❗Please specify at least one %c'micromodal-trigger'","background-color: #f8f9fa;color: #50596c;font-weight: bold;","data attribute."),console.warn("%cExample:","background-color: #f8f9fa;color: #50596c;font-weight: bold;",'<a href="#" data-micromodal-trigger="my-modal"></a>'))}(n),!e)return!0;for(var o in e)m(o);return!0},{init:function(n){var e=Object.assign({},{openTrigger:"data-micromodal-trigger"},n),o=h(document.querySelectorAll("[".concat(e.openTrigger,"]"))),t=function(a,r){var l=[];return a.forEach(function(d){var u=d.attributes[r].value;l[u]===void 0&&(l[u]=[]),l[u].push(d)}),l}(o,e.openTrigger);if(e.debugMode!==!0||S(o,t)!==!1)for(var i in t){var s=t[i];e.targetModal=i,e.triggers=h(s),c=new g(e)}},show:function(n,e){var o=e||{};o.targetModal=n,o.debugMode===!0&&m(n)===!1||(c&&c.removeEventListeners(),(c=new g(o)).showModal())},close:function(n){n?c.closeModalById(n):c.closeModal()}});typeof window<"u"&&(window.MicroModal=M);M.init({openClass:"is-open",disableScroll:!0,awaitOpenAnimation:!0,awaitCloseAnimation:!0,onShow:n=>{},onClose:n=>{}});
